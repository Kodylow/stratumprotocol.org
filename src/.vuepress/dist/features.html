<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Introduction | Stratum V2 Documentation</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/assets/stratum-v2-icon.svg">
    <meta name="description" content="Stratum V2 documentation">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.df6ce833.css" as="style"><link rel="preload" href="/assets/js/app.6cb72c22.js" as="script"><link rel="preload" href="/assets/js/3.ba2aaf67.js" as="script"><link rel="preload" href="/assets/js/11.4a45b062.js" as="script"><link rel="prefetch" href="/assets/js/10.78270109.js"><link rel="prefetch" href="/assets/js/12.df75ddb5.js"><link rel="prefetch" href="/assets/js/13.ba51b7b7.js"><link rel="prefetch" href="/assets/js/14.6f7de4c9.js"><link rel="prefetch" href="/assets/js/15.7a93282b.js"><link rel="prefetch" href="/assets/js/16.4e574f57.js"><link rel="prefetch" href="/assets/js/2.7634484a.js"><link rel="prefetch" href="/assets/js/4.95f9b601.js"><link rel="prefetch" href="/assets/js/5.4535faa0.js"><link rel="prefetch" href="/assets/js/6.008e4088.js"><link rel="prefetch" href="/assets/js/7.7b7b0076.js"><link rel="prefetch" href="/assets/js/8.64fc4679.js"><link rel="prefetch" href="/assets/js/9.feee1ad3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.df6ce833.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="container no-navbar" data-v-1ef5f07a><div class="top-scene flex-col" data-v-1ef5f07a><img src="/assets/transparent-blur.svg" class="top-scene-blur" data-v-1ef5f07a></div> <header class="documentation-header flex-row" data-v-1ef5f07a><img src="/assets/stratum-v2-logo-with-text.svg" class="logo" data-v-1ef5f07a> <nav class="flex-row" data-v-1ef5f07a><a href="/features/" class="nav-link nav-link body-text" data-v-1ef5f07a>
    Features
  </a><a href="/how-to/" class="nav-link nav-link body-text" data-v-1ef5f07a>
    How To
  </a><a href="/implementation/" class="nav-link nav-link body-text" data-v-1ef5f07a>
    Implementation
  </a><a href="/specifications/" class="nav-link nav-link body-text" data-v-1ef5f07a>
    Specifications
  </a></nav></header> <aside class="sidebar sidebar" data-v-1ef5f07a><!---->  <ul class="sidebar-links" data-v-209047a6><li class="sidebar-link-item body-text" data-v-209047a6><section class="sidebar-group depth-0" data-v-209047a6><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items" data-v-209047a6><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#technical-description" class="sidebar-link" data-v-209047a6>Technical Description</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#motivation-impact" class="sidebar-link" data-v-209047a6>Motivation &amp; Impact</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#server-cpu-load" class="sidebar-link" data-v-209047a6>Server CPU load</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#technical-server-description" class="sidebar-link" data-v-209047a6>Technical Server Description</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#motivation-impact-of-the-project" class="sidebar-link" data-v-209047a6>Motivation &amp; Impact of the project</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#technical-description-2" class="sidebar-link" data-v-209047a6>Technical Description</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#motivation-impact-2" class="sidebar-link" data-v-209047a6>Motivation &amp; Impact</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#server-cpu-load-2" class="sidebar-link" data-v-209047a6>Server CPU load</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#technical-server-description-2" class="sidebar-link" data-v-209047a6>Technical Server Description</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#motivation-impact-of-the-project-2" class="sidebar-link" data-v-209047a6>Motivation &amp; Impact of the project</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#technical-description-3" class="sidebar-link" data-v-209047a6>Technical Description</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#motivation-impact-3" class="sidebar-link" data-v-209047a6>Motivation &amp; Impact</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#server-cpu-load-3" class="sidebar-link" data-v-209047a6>Server CPU load</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#technical-server-description-3" class="sidebar-link" data-v-209047a6>Technical Server Description</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li><li class="sidebar-link-item body-text" data-v-209047a6><a href="/features.html#motivation-impact-of-the-project-3" class="sidebar-link" data-v-209047a6>Motivation &amp; Impact of the project</a><ul class="sidebar-sub-headers" data-v-209047a6 data-v-209047a6></ul></li></ul></section></li></ul> </aside> <div class="content-container" data-v-1ef5f07a><div class="page-heading" data-v-1ef5f07a>
        Reference Implementation
      </div> <div class="content__default" data-v-1ef5f07a><h1 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h1> <p>An open-source project was formed to create a reference implementation of the Stratum V2 specifications in Rust.</p> <ul><li><a href="https://discord.com/" target="_blank" rel="noopener noreferrer">Discord<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/" target="_blank" rel="noopener noreferrer">Github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/" target="_blank" rel="noopener noreferrer">Contribute<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="technical-description"><a href="#technical-description" class="header-anchor">#</a> Technical Description</h2> <p>Having a binary rather than text-based protocol reduces bandwidth consumption considerably. Making messages human-readable in Stratum V1 resulted in some messages being approximately 2-3 times heavier than necessary, and those have now been reduced to a minimum size in V2.</p> <p>Additionally, V1 includes some messages that are unnecessary altogether, such as mining. By eliminating these instances, fewer messages need to be transmitted in total and bandwidth consumption is reduced even further.</p> <h2 id="motivation-impact"><a href="#motivation-impact" class="header-anchor">#</a> Motivation &amp; Impact</h2> <p>Reducing network traffic as well as client-side and server-side computational intensity translates to lower infrastructure costs for all participants. At the same time, a significant reduction in bandwidth consumption allows for hashing results to be transmitted more frequently, enabling more precise hashrate measurement and mining reward distribution as a result.</p> <h2 id="server-cpu-load"><a href="#server-cpu-load" class="header-anchor">#</a> Server CPU load</h2> <p>With the introduction of standard and group channels for end devices, Stratum V2 enables efficient caching so that server CPUs don’t need to recompute the Merkle root for every share submission. This shifts more responsibility upstream from end mining devices to proxies that connect to pools via extended channels.</p> <h2 id="technical-server-description"><a href="#technical-server-description" class="header-anchor">#</a> Technical Server Description</h2> <p>Reduced server CPU load in Stratum V2 is a result of enabling end devices to do header-only mining. This means that the Merkle root is always provided by an upstream node and doesn’t need to be handled by end devices at all. In other words, end devices no longer have to perform any coinbase modifications. This makes computations simpler for miners, but it also has the added benefit of making work validation (i.e. CPU load) much lighter on the server side.</p> <h2 id="motivation-impact-of-the-project"><a href="#motivation-impact-of-the-project" class="header-anchor">#</a> Motivation &amp; Impact of the project</h2> <p>As pool operators ourselves, one of our motivations for reducing server CPU load is probably rather obvious — it reduces our overhead costs. However, any pool can (and should) take advantage of this benefit, so the greater motivation in the big picture is simply to reduce the inefficiency of the entire network.</p> <h2 id="technical-description-2"><a href="#technical-description-2" class="header-anchor">#</a> Technical Description</h2> <p>Having a binary rather than text-based protocol reduces bandwidth consumption considerably. Making messages human-readable in Stratum V1 resulted in some messages being approximately 2-3 times heavier than necessary, and those have now been reduced to a minimum size in V2.</p> <p>Additionally, V1 includes some messages that are unnecessary altogether, such as mining. By eliminating these instances, fewer messages need to be transmitted in total and bandwidth consumption is reduced even further.</p> <h2 id="motivation-impact-2"><a href="#motivation-impact-2" class="header-anchor">#</a> Motivation &amp; Impact</h2> <p>Reducing network traffic as well as client-side and server-side computational intensity translates to lower infrastructure costs for all participants. At the same time, a significant reduction in bandwidth consumption allows for hashing results to be transmitted more frequently, enabling more precise hashrate measurement and mining reward distribution as a result.</p> <h2 id="server-cpu-load-2"><a href="#server-cpu-load-2" class="header-anchor">#</a> Server CPU load</h2> <p>With the introduction of standard and group channels for end devices, Stratum V2 enables efficient caching so that server CPUs don’t need to recompute the Merkle root for every share submission. This shifts more responsibility upstream from end mining devices to proxies that connect to pools via extended channels.</p> <h2 id="technical-server-description-2"><a href="#technical-server-description-2" class="header-anchor">#</a> Technical Server Description</h2> <p>Reduced server CPU load in Stratum V2 is a result of enabling end devices to do header-only mining. This means that the Merkle root is always provided by an upstream node and doesn’t need to be handled by end devices at all. In other words, end devices no longer have to perform any coinbase modifications. This makes computations simpler for miners, but it also has the added benefit of making work validation (i.e. CPU load) much lighter on the server side.</p> <h2 id="motivation-impact-of-the-project-2"><a href="#motivation-impact-of-the-project-2" class="header-anchor">#</a> Motivation &amp; Impact of the project</h2> <p>As pool operators ourselves, one of our motivations for reducing server CPU load is probably rather obvious — it reduces our overhead costs. However, any pool can (and should) take advantage of this benefit, so the greater motivation in the big picture is simply to reduce the inefficiency of the entire network.</p> <h2 id="technical-description-3"><a href="#technical-description-3" class="header-anchor">#</a> Technical Description</h2> <p>Having a binary rather than text-based protocol reduces bandwidth consumption considerably. Making messages human-readable in Stratum V1 resulted in some messages being approximately 2-3 times heavier than necessary, and those have now been reduced to a minimum size in V2.</p> <p>Additionally, V1 includes some messages that are unnecessary altogether, such as mining. By eliminating these instances, fewer messages need to be transmitted in total and bandwidth consumption is reduced even further.</p> <h2 id="motivation-impact-3"><a href="#motivation-impact-3" class="header-anchor">#</a> Motivation &amp; Impact</h2> <p>Reducing network traffic as well as client-side and server-side computational intensity translates to lower infrastructure costs for all participants. At the same time, a significant reduction in bandwidth consumption allows for hashing results to be transmitted more frequently, enabling more precise hashrate measurement and mining reward distribution as a result.</p> <h2 id="server-cpu-load-3"><a href="#server-cpu-load-3" class="header-anchor">#</a> Server CPU load</h2> <p>With the introduction of standard and group channels for end devices, Stratum V2 enables efficient caching so that server CPUs don’t need to recompute the Merkle root for every share submission. This shifts more responsibility upstream from end mining devices to proxies that connect to pools via extended channels.</p> <h2 id="technical-server-description-3"><a href="#technical-server-description-3" class="header-anchor">#</a> Technical Server Description</h2> <p>Reduced server CPU load in Stratum V2 is a result of enabling end devices to do header-only mining. This means that the Merkle root is always provided by an upstream node and doesn’t need to be handled by end devices at all. In other words, end devices no longer have to perform any coinbase modifications. This makes computations simpler for miners, but it also has the added benefit of making work validation (i.e. CPU load) much lighter on the server side.</p> <h2 id="motivation-impact-of-the-project-3"><a href="#motivation-impact-of-the-project-3" class="header-anchor">#</a> Motivation &amp; Impact of the project</h2> <p>As pool operators ourselves, one of our motivations for reducing server CPU load is probably rather obvious — it reduces our overhead costs. However, any pool can (and should) take advantage of this benefit, so the greater motivation in the big picture is simply to reduce the inefficiency of the entire network.</p></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6cb72c22.js" defer></script><script src="/assets/js/3.ba2aaf67.js" defer></script><script src="/assets/js/11.4a45b062.js" defer></script>
  </body>
</html>
